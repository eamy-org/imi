---
name: example-1
criteria:
    source: { $exists: yes }
    type: urn:type:demo:pipeline:1
index:
    - name
    - physician
nodes:
    - url: noop://register?scheduled_at=tuesday
      exit: { scheduled_at: { $exists: yes }}
    - url: noop://notify?notified_at=monday
      exit: { notified_at: { $exists: 1 }}
    - url: noop://survey?completed_at=tuesday
      exit: { completed_at: { $exists: yes }}
---
name: example-2
criteria:
    source: { $exists: true }
    type: urn:type:demo:pipeline:2
    message: { $exists: true }
index:
    - from
nodes:
    - url: noop://sayhello
      exit:
        answer: hello
